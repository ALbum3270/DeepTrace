## 技术栈说明（Technology Stack）

### 语言 & 运行环境

- 语言：Python 3.11+
- 运行环境：
  - 开发：本地虚拟环境（venv/conda/poetry 均可）
  - 部署（后续）：单机/容器均可，不强依赖特定云厂商

### 核心框架 & 库

#### 1. Agent 编排

- **LangGraph**
  - 用于构建事件链分析的 StateGraph：
    - 节点：事件抽取、评论分诊、检索规划、抓取、报告生成等
    - 支持条件跳转与多轮迭代

#### 2. LLM 调用

- 统一用一个 `LLMClient` 封装底层调用，便于切换不同提供商：
  - 兼容：
    - OpenAI API 协议
    - 其他兼容 OpenAI 协议的供应商（如 DeepSeek、Qwen 等）
  - 通过配置（env/config）切换模型名称与 base_url

#### 3. 数据模型 & 校验

- **pydantic**
  - 用于定义：
    - Evidence / EventNode / Timeline 等核心数据结构
  - 提供类型校验与 JSON 序列化

#### 4. HTTP 客户端 / 抓取

- **httpx** 或 `requests`
  - 用于调用：
    - 搜索引擎 / 新闻 API
    - 将来接入的小红书/微博封装接口或中间服务
  - MVP 阶段可以先使用本地 mock 数据，确保流程可跑

### 存储 & 缓存

#### MVP 阶段

- **内存型 EvidenceStore**
  - 将证据与事件链全部存储在内存中（进程内）
  - 适用于：
    - 单事件分析
    - 小规模研究用途

#### 后续扩展方向（非本阶段必需）

- 文件或本地数据库持久化（SQLite/PostgreSQL）
  - 用于：
    - 记录历史分析结果
    - 复用 Evidence 进行多次推理

### 工具链（初版）

- 包管理：
  - 第一版采用 `requirements.txt + venv` 方案（简单直接）
- 测试：
  - **pytest**：单元测试与简单集成测试
- 格式化 / Lint（可以在后续小迭代中加入）：
  - `black`：代码格式化
  - `ruff`：静态检查与基础风格约束

### 不在本阶段使用的技术

- 不做前端框架选型（如 React/Next.js），本项目暂以 CLI 为主，HTTP API 视后续需求再定
- 不采用微服务 / 服务网格：
  - 当前为单体应用，逻辑通过内部模块划分来管理
- 不引入消息队列 / 分布式任务队列：
  - 舆情抓取/检索目前以同步/小批量为主，后续如需扩展可评估 Celery/Redis 等
