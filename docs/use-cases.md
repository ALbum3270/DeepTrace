## 用户场景 & 用例（Use Cases）

### 场景 1：品牌 PR 想搞清楚“小红书翻车事件”的全貌

> “最近小红书上老有人说我们家 XX 产品翻车，你帮我看一下：到底是从哪开始的，中间发生了啥，现在情况怎样？”

#### 用例 1.1：输入事件描述，得到事件链初稿

- **前置条件**
  - 系统已接好基础数据源（小红书搜索 / 新闻搜索接口）
  - 用户可以在 Web 界面或 CLI 输入自然语言问题

- **步骤**
  1. 用户输入：  
     “请帮我梳理一下最近一个月小红书上关于【XXX 精华】的翻车事件，从起因到现在的关键过程。”
  2. 系统做最小检索 / 抓取：
     - 小红书话题 / 搜索结果中的相关笔记（少量）
     - 若干新闻 / 其他平台信息
  3. 事件抽取 Agent 提取：
     - 事件节点（时间、行为、主体、结局）
  4. 构建一条粗糙的时间线：
     - 起因：最早负面 / 导火索
     - 经过：舆论扩散的几个节点
     - 当前状态：最近的官方回应 / 舆论趋势

- **输出**
  - 一条可视化或结构化的事件链初稿：
    - [T0] 某用户首次发布负面使用体验
    - [T1] 多个用户跟帖表示遇到类似问题
    - [T2] 某垂直博主发长文点评，引发关注
    - [T3] 品牌方第一次回应
    - [T4] 后续舆论走向（缓和 / 加剧）

---

### 场景 2：利用评论线索做“二次深挖”

> “我觉得真正的导火索/黑料都藏在评论里，系统能不能帮我把这些线索挖出来？”

#### 用例 2.1：从评论中发现新的关键实体 / 线索

- **前置条件**
  - 已经抓取了一批核心帖子 + 评论（一级/二级）

- **步骤**
  1. 评论挖掘 Agent 对所有评论进行打分：
     - 新实体 / 新名词（之前时间线没有的）
     - 证据型内容（截图、订单号、群名、法律条款）
     - 与现有叙事冲突的说法
  2. 系统选出若干“关键评论”，并展示：
     - 这条评论涉及的新实体 / 新时间点
     - 对现有时间线的影响（补充 / 质疑）
  3. 对每条关键评论，生成一个子问题：
     - “评论中提到的『XX 群聊记录』是否存在更多公开信息？”
     - “提到的『早在今年 3 月就有人投诉』是否能在其他平台找到佐证？”

- **输出**
  - 关键评论列表（带打分和解析）
  - 对应的子问题列表（准备交给检索规划器）

---

### 场景 3：按需检索 & 迭代补全时间线

> “不要一上来全网爬，把上一步发现的线索再查一圈，把关键链条填完整。”

#### 用例 3.1：针对子问题生成定向检索任务

- **前置条件**
  - 已有 OpenQuestions 列表（来自事件链缺口 + 关键评论）
  - 系统具备多个检索工具（小红书、微博、新闻等）

- **步骤**
  1. Retrieval Planner 读取 OpenQuestions：
     - 例如：“3 月份是否已有类似投诉？”、“某群聊是否引发集中爆发？”
  2. 对每个问题生成检索计划：
     - 平台：小红书 / 微博 / 新闻 / 其他
     - 关键词：品牌词 + 事件关键词 + 新实体
     - 时间范围：根据评论线索推断（例如评论说“早在 3 月”，就给 3 月 ± 7 天）
  3. Targeted Fetcher 执行小批量抓取：
     - 控制每次抓取量在可接受范围（例如每个计划最多 N 条）
  4. 新证据进入 Evidence Store，由事件链 Agent 重新评估：
     - 是否新增了更早的起因？
     - 是否出现新的关键主体 / 组织？
     - 原有节点的置信度是否需要调整？

- **输出**
  - 更新后的事件链（版本 2, 3, …）
  - 每次更新的“增量说明”（哪些节点新增 / 哪些被修正）

---

### 场景 4：导出最终可读的“事件来龙去脉报告”

> “给我一份能直接给老板 / 同事看的总结。”

#### 用例 4.1：生成结构化事件报告

- **前置条件**
  - 事件链已经稳定（缺口数 / 不确定节点在阈值以内）

- **步骤**
  1. 报告 Agent 读取最终时间线 & 证据库
  2. 根据模板生成报告：
     - 事件背景
     - 起因
     - 关键节点（按时间列出）
     - 多方立场（用户 / 品牌 / 平台 / 监管等）
     - 当前状态 & 可能走向
     - 主要不确定性（仍存在争议/缺证之处）
  3. 将报告作为：
     - Markdown / HTML 导出
     - 可选：附带一个节点列表 + 链接

- **输出**
  - `reports/<事件简称>-timeline-report.md` 或 HTML 文件
  - 报告中每个关键结论都能追溯到对应证据
